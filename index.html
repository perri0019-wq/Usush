<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>BOOM</title>

<style>
*{
  box-sizing:border-box;
  font-family:Arial,sans-serif;
  font-weight:bold;
}
body{
  margin:0;
  background:#f4f6ff;
  font-size:22px;
}

/* ===== HEADER ===== */
.header{
  display:flex;
  align-items:center;
  padding:20px;
  background:#fff;
  gap:20px;
}
.avatar{
  width:80px;
  height:80px;
  border-radius:50%;
  background:#ddd;
}
.menu-back{
  display:none;
  background:#eef1ff;
  padding:30px 46px;
  border-radius:30px;
  font-size:32px;
  cursor:pointer;
}
.balance{
  margin-left:auto;
  display:flex;
  align-items:center;
  background:#eef1ff;
  padding:30px 44px;
  border-radius:36px;
  font-size:38px;
}
.coin-icon{
  width:60px;
  height:60px;
  margin-right:14px;
}

/* ===== MENU ===== */
.menu{padding:28px}
.bomb-btn{
  width:100%;
  height:25vh;
  position:relative;
  border:5px solid #4c6fff;
  border-radius:36px;
  overflow:hidden;
  cursor:pointer;
  background:#000;
}
.bomb-btn img{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
}
.bomb-btn span{
  position:relative;
  z-index:2;
  font-size:96px;
  color:#fff;
}

/* ===== GAME ===== */
.game{display:none;padding:26px}
.win-info{
  text-align:center;
  font-size:48px;
  margin-bottom:26px;
}
.next-info{
  font-size:32px;
  opacity:.85;
}
.grid{
  display:grid;
  grid-template-columns:repeat(5,1fr);
  gap:14px;
}
.cell{
  aspect-ratio:1/1;
  background:#fff;
  border-radius:22px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
}
.cell img{
  width:92%;
  height:92%;
}
.cell.boom{animation:shake .35s}

@keyframes shake{
  0%{transform:translateX(0)}
  25%{transform:translateX(-6px)}
  50%{transform:translateX(6px)}
  75%{transform:translateX(-6px)}
  100%{transform:translateX(0)}
}
</style>
</head>

<body>

<div class="header">
  <div class="avatar"></div>
  <div class="menu-back" id="menuBack" onclick="backToMenu()">Ð² Ð¼ÐµÐ½ÑŽ ðŸŽ°</div>
  <div class="balance">
    <img src="coin.png" class="coin-icon">
    <span id="balance">1000.00</span>
  </div>
</div>

<!-- ===== MENU ===== -->
<div class="menu" id="menu">
  <button class="bomb-btn" onclick="startBoom()">
    <img src="boom-icon.png">
    <span>BOOM</span>
  </button>
</div>

<!-- ===== GAME ===== -->
<div class="game" id="game">
  <div class="win-info">
    Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹ Ð²Ñ‹Ð¸Ð³Ñ€Ñ‹Ñˆ<br>
    <img src="coin.png" class="coin-icon">
    <span id="possibleWin">0.00</span><br>
    x<span id="multiplier">1.00</span>
    <div class="next-info" id="nextInfo"></div>
  </div>

  <div class="grid" id="grid"></div>

  <button onclick="play()" style="margin-top:20px;font-size:32px">
    Ð˜Ð³Ñ€Ð°Ñ‚ÑŒ
  </button>
</div>

<script>
/* ===== MULTIPLIERS ===== */
const multiplierTable={
  2:{base:[1.09,1.28,1.33,1.5,1.75,1.9,2.1,2.5,2.8,2.95,3.3,3.6],step:0.35},
  3:{base:[1.14,1.3,1.43,1.73,2.02,2.37,2.82,3.38,4.11,5.05],step:0.8},
  4:{base:[1.19,1.43,1.73,2.11,2.61,3.26,4.13,5.32,6.95,9.27],step:3},
  5:{base:[1.25,1.58,2.02,2.61,3.43,4.61,6.2,8.49,12.16,17.3],step:7},
  6:{base:[1.32,1.75,2.37,3.26,4.57,6.53,9.54,14.31,22.12],step:8},
  7:{base:[1.39,1.96,2.8,4.3,6.2],step:3.3},
  8:{base:[1.47,2.21,3.38,5.32,8.59,14.31,24.72,44.49],step:12},
  9:{base:[1.56,2.5,4.11,6.95,11.16,22.12,42.02,84.04],step:15},
  10:{base:[1.67,2.86,5.05,9.04,17.69,35.38],step:21}
};

let balance=1000;
let betValue=1;
let playing=false;
let opened=0;
let multiplier=1;
let bombs=[];
let bombCount=3;

const grid=document.getElementById('grid');
const possibleWin=document.getElementById('possibleWin');
const multiplierEl=document.getElementById('multiplier');
const nextInfo=document.getElementById('nextInfo');

/* ===== NAV ===== */
function startBoom(){
  menu.style.display='none';
  game.style.display='block';
  menuBack.style.display='block';
}
function backToMenu(){
  menu.style.display='block';
  game.style.display='none';
  menuBack.style.display='none';
}

/* ===== GAME LOGIC ===== */
function play(){
  grid.innerHTML='';
  opened=0;
  multiplier=1;
  playing=true;
  bombs=[];

  while(bombs.length<bombCount){
    const r=Math.floor(Math.random()*25);
    if(!bombs.includes(r)) bombs.push(r);
  }

  for(let i=0;i<25;i++){
    const c=document.createElement('div');
    c.className='cell';
    c.onclick=()=>openCell(c,i);
    grid.appendChild(c);
  }

  updateWin();
}

function updateMultiplier(){
  const t=multiplierTable[bombCount];
  const i=opened-1;
  multiplier=i<t.base.length?t.base[i]:t.base.at(-1)+t.step*(i-t.base.length+1);
}

function getNextMultiplier(){
  const t=multiplierTable[bombCount];
  const i=opened;
  return i<t.base.length?t.base[i]:t.base.at(-1)+t.step*(i-t.base.length+1);
}

function updateWin(){
  multiplierEl.innerText=multiplier.toFixed(2);
  possibleWin.innerText=(betValue*multiplier).toFixed(2);
  const next=getNextMultiplier();
  nextInfo.innerHTML=`â†’ x${next.toFixed(2)}<br>Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¹ Ð²Ñ‹Ð¸Ð³Ñ€Ñ‹Ñˆ: ${(betValue*next).toFixed(2)}`;
}

function openCell(c,i){
  if(!playing||c.innerHTML) return;

  if(bombs.includes(i)){
    c.classList.add('boom');
    playing=false;
    return;
  }

  opened++;
  updateMultiplier();

  const img=document.createElement('img');
  img.src='coin.png';
  c.appendChild(img);

  updateWin();
}
</script>

</body>
</html>